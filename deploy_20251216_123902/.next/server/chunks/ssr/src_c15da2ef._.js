module.exports=[772,a=>{"use strict";let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call GenerateMonthlyInvoicesButton() from the server but GenerateMonthlyInvoicesButton is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/src/components/GenerateMonthlyInvoicesButton.tsx <module evaluation>","GenerateMonthlyInvoicesButton");a.s(["GenerateMonthlyInvoicesButton",0,b])},29727,a=>{"use strict";let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call GenerateMonthlyInvoicesButton() from the server but GenerateMonthlyInvoicesButton is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/src/components/GenerateMonthlyInvoicesButton.tsx","GenerateMonthlyInvoicesButton");a.s(["GenerateMonthlyInvoicesButton",0,b])},52395,a=>{"use strict";a.i(772);var b=a.i(29727);a.n(b)},82396,a=>{"use strict";let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call RecordPaymentButton() from the server but RecordPaymentButton is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/src/components/RecordPaymentButton.tsx <module evaluation>","RecordPaymentButton");a.s(["RecordPaymentButton",0,b])},90761,a=>{"use strict";let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call RecordPaymentButton() from the server but RecordPaymentButton is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/src/components/RecordPaymentButton.tsx","RecordPaymentButton");a.s(["RecordPaymentButton",0,b])},3842,a=>{"use strict";a.i(82396);var b=a.i(90761);a.n(b)},15018,a=>{"use strict";let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call PaymentSuccessBanner() from the server but PaymentSuccessBanner is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/src/components/PaymentSuccessBanner.tsx <module evaluation>","PaymentSuccessBanner");a.s(["PaymentSuccessBanner",0,b])},95718,a=>{"use strict";let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call PaymentSuccessBanner() from the server but PaymentSuccessBanner is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/src/components/PaymentSuccessBanner.tsx","PaymentSuccessBanner");a.s(["PaymentSuccessBanner",0,b])},6176,a=>{"use strict";a.i(15018);var b=a.i(95718);a.n(b)},39764,a=>{"use strict";let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call ManualInvoiceGenerator() from the server but ManualInvoiceGenerator is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/src/components/ManualInvoiceGenerator.tsx <module evaluation>","ManualInvoiceGenerator");a.s(["ManualInvoiceGenerator",0,b])},17922,a=>{"use strict";let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call ManualInvoiceGenerator() from the server but ManualInvoiceGenerator is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/src/components/ManualInvoiceGenerator.tsx","ManualInvoiceGenerator");a.s(["ManualInvoiceGenerator",0,b])},28598,a=>{"use strict";a.i(39764);var b=a.i(17922);a.n(b)},2791,a=>{"use strict";let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call DeleteInvoiceButton() from the server but DeleteInvoiceButton is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/src/components/DeleteInvoiceButton.tsx <module evaluation>","DeleteInvoiceButton");a.s(["DeleteInvoiceButton",0,b])},50902,a=>{"use strict";let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call DeleteInvoiceButton() from the server but DeleteInvoiceButton is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/src/components/DeleteInvoiceButton.tsx","DeleteInvoiceButton");a.s(["DeleteInvoiceButton",0,b])},29468,a=>{"use strict";a.i(2791);var b=a.i(50902);a.n(b)},51595,a=>{"use strict";var b=a.i(7997);a.i(70396);var c=a.i(73727),d=a.i(95936),e=a.i(16349),f=a.i(51100),g=a.i(13743),h=a.i(1269);let i=(0,h.default)("file-text",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);var j=a.i(56603),k=a.i(10734);let l=(0,h.default)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);var m=a.i(52395),n=a.i(53032),o=a.i(3842),p=a.i(6176),q=a.i(28598),r=a.i(29468);async function s({searchParams:a}){let h=await a,s=await (0,e.createClient)(),{data:{user:t}}=await s.auth.getUser();t||(0,c.redirect)("/login");let u=(0,f.createClient)("https://fjghhrubobqwplvokszz.supabase.co",process.env.SUPABASE_SERVICE_ROLE_KEY),{data:v}=await u.from("profiles").select("role").eq("id",t.id).single();v?.role!=="admin"&&(0,c.redirect)("/customer/dashboard");let{data:w}=await u.from("organization_invoices").select(`
      *,
      organizations (
        id,
        name,
        contact_email
      )
    `).order("created_at",{ascending:!1}),x=w?.filter(a=>"pending"===a.status).reduce((a,b)=>a+b.amount_due_paisa,0)||0,y=w?.filter(a=>"paid"===a.status).reduce((a,b)=>a+b.total_amount_paisa,0)||0,z=w?.filter(a=>"overdue"===a.status).reduce((a,b)=>a+b.amount_due_paisa,0)||0,A=w?.filter(a=>"pending"===a.status||"overdue"===a.status).length||0,B=Object.values(w?.reduce((a,b)=>{let c=b.organization_id;if(a[c]||(a[c]={organization:b.organizations,invoices:[],totalCollected:0,totalPending:0,totalOverdue:0,oldestUnpaidDueDate:null}),a[c].invoices.push(b),"paid"===b.status)a[c].totalCollected+=b.total_amount_paisa;else if("pending"===b.status){a[c].totalPending+=b.amount_due_paisa;let d=new Date(b.period_end);(!a[c].oldestUnpaidDueDate||d<a[c].oldestUnpaidDueDate)&&(a[c].oldestUnpaidDueDate=d)}else if("overdue"===b.status){a[c].totalOverdue+=b.amount_due_paisa;let d=new Date(b.period_end);(!a[c].oldestUnpaidDueDate||d<a[c].oldestUnpaidDueDate)&&(a[c].oldestUnpaidDueDate=d)}return a},{})||{}),{data:C}=await u.from("organizations").select("id, name, contact_email"),D=new Date,E=new Date(D.getFullYear(),D.getMonth(),1),F=new Date(D.getFullYear(),D.getMonth()+1,1),G=new Date(D.getFullYear(),D.getMonth()-1,1),H=await Promise.all((C||[]).map(async a=>{let{data:b}=await u.from("profiles").select("id").eq("organization_id",a.id),c=b?.map(a=>a.id)||[];if(0===c.length)return{...a,thisMonthTotal:0,thisMonthCount:0,lastMonthTotal:0,lastMonthCount:0,machineCount:0};let{data:d}=await u.from("vending_machines").select("id").in("customer_id",c),e=d?.map(a=>a.id)||[];if(0===e.length)return{...a,thisMonthTotal:0,thisMonthCount:0,lastMonthTotal:0,lastMonthCount:0,machineCount:0};let{data:f}=await u.from("coin_payments").select("amount_in_paisa").in("machine_id",e).gte("created_at",E.toISOString()).lt("created_at",F.toISOString()).eq("dispensed",!0),g=f?.reduce((a,b)=>a+(b.amount_in_paisa||0),0)||0,h=f?.length||0,{data:i}=await u.from("coin_payments").select("amount_in_paisa").in("machine_id",e).gte("created_at",G.toISOString()).lt("created_at",E.toISOString()).eq("dispensed",!0),j=i?.reduce((a,b)=>a+(b.amount_in_paisa||0),0)||0,k=i?.length||0;return{...a,thisMonthTotal:g,thisMonthCount:h,lastMonthTotal:j,lastMonthCount:k,machineCount:e.length}})),I=H.reduce((a,b)=>a+b.thisMonthTotal,0),J=H.reduce((a,b)=>a+b.lastMonthTotal,0),K=a=>`â‚¹${(a/100).toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})}`,L=a=>new Date(a).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"});return(0,b.jsxs)("div",{className:"min-h-screen bg-gray-50",children:["success"===h.payment&&(0,b.jsx)(p.PaymentSuccessBanner,{}),(0,b.jsx)("header",{className:"bg-white border-b",children:(0,b.jsx)("div",{className:"px-6 py-4",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,b.jsx)(d.default,{href:"/admin/dashboard",className:"p-2 hover:bg-gray-100 rounded-lg",children:(0,b.jsx)(g.ArrowLeft,{className:"h-5 w-5"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Organization Billing"}),(0,b.jsx)("p",{className:"text-sm text-gray-500",children:"Manage coin payment invoices and collections"})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(q.ManualInvoiceGenerator,{}),(0,b.jsx)(m.GenerateMonthlyInvoicesButton,{})]})]})})}),(0,b.jsxs)("main",{className:"p-6 max-w-7xl mx-auto",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[(0,b.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[(0,b.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,b.jsx)("div",{className:"p-3 bg-yellow-100 rounded-lg",children:(0,b.jsx)(j.Clock,{className:"h-6 w-6 text-yellow-600"})})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:"Pending Amount"}),(0,b.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:K(x)}),(0,b.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:[A," invoice(s)"]})]})]}),(0,b.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[(0,b.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,b.jsx)("div",{className:"p-3 bg-green-100 rounded-lg",children:(0,b.jsx)(k.CheckCircle2,{className:"h-6 w-6 text-green-600"})})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:"Collected (Paid)"}),(0,b.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:K(y)}),(0,b.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"All time"})]})]}),(0,b.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[(0,b.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,b.jsx)("div",{className:"p-3 bg-red-100 rounded-lg",children:(0,b.jsx)(l,{className:"h-6 w-6 text-red-600"})})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:"Overdue"}),(0,b.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:K(z)}),(0,b.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Needs follow-up"})]})]}),(0,b.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[(0,b.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,b.jsx)("div",{className:"p-3 bg-blue-100 rounded-lg",children:(0,b.jsx)(i,{className:"h-6 w-6 text-blue-600"})})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:"Total Invoices"}),(0,b.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:w?.length||0}),(0,b.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"All statuses"})]})]})]}),(0,b.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 mb-6",children:[(0,b.jsxs)("div",{className:"px-6 py-4 border-b border-gray-200",children:[(0,b.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Organization-wise Billing Summary"}),(0,b.jsx)("p",{className:"text-sm text-gray-500",children:"Payment status and outstanding dues by organization"})]}),(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full",children:[(0,b.jsx)("thead",{className:"bg-gray-50 border-b border-gray-200",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Organization"}),(0,b.jsx)("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Invoices"}),(0,b.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Collected (Paid)"}),(0,b.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Pending Payment"}),(0,b.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Overdue Amount"}),(0,b.jsx)("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Oldest Due Date"}),(0,b.jsx)("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,b.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:B.length>0?B.map(a=>{let c=a.totalPending>0||a.totalOverdue>0,e=a.oldestUnpaidDueDate?Math.floor((new Date().getTime()-new Date(a.oldestUnpaidDueDate).getTime())/864e5):0;return(0,b.jsxs)("tr",{className:`hover:bg-gray-50 ${c?"bg-yellow-50":""}`,children:[(0,b.jsxs)("td",{className:"px-6 py-4",children:[(0,b.jsx)("div",{className:"text-sm font-medium text-gray-900",children:a.organization.name}),(0,b.jsx)("div",{className:"text-xs text-gray-500",children:a.organization.contact_email})]}),(0,b.jsx)("td",{className:"px-6 py-4 text-center text-sm text-gray-900",children:a.invoices.length}),(0,b.jsx)("td",{className:"px-6 py-4 text-right text-sm font-medium text-green-600",children:K(a.totalCollected)}),(0,b.jsx)("td",{className:"px-6 py-4 text-right text-sm font-medium text-yellow-600",children:K(a.totalPending)}),(0,b.jsx)("td",{className:"px-6 py-4 text-right text-sm font-medium text-red-600",children:K(a.totalOverdue)}),(0,b.jsx)("td",{className:"px-6 py-4 text-center text-sm",children:a.oldestUnpaidDueDate?(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:`font-medium ${e>30?"text-red-600":e>15?"text-orange-600":"text-gray-900"}`,children:L(a.oldestUnpaidDueDate.toISOString())}),e>0&&(0,b.jsxs)("div",{className:"text-xs text-red-600",children:[e," days overdue"]})]}):(0,b.jsx)("span",{className:"text-gray-400",children:"-"})}),(0,b.jsx)("td",{className:"px-6 py-4 text-center",children:(0,b.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,b.jsx)(d.default,{href:`#org-${a.organization.id}`,className:"text-blue-600 hover:text-blue-800 text-xs font-medium",children:"View Invoices"}),c&&(0,b.jsx)("button",{className:"px-3 py-1 bg-blue-600 text-white text-xs rounded hover:bg-blue-700",children:"Send Reminder"})]})})]},a.organization.id)}):(0,b.jsx)("tr",{children:(0,b.jsx)("td",{colSpan:7,className:"px-6 py-8 text-center text-gray-500",children:"No organizations with invoices yet"})})}),(0,b.jsx)("tfoot",{className:"bg-gray-50 border-t-2 border-gray-300",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{colSpan:2,className:"px-6 py-4 text-sm font-bold text-gray-900",children:"Total"}),(0,b.jsx)("td",{className:"px-6 py-4 text-right text-sm font-bold text-green-600",children:K(y)}),(0,b.jsx)("td",{className:"px-6 py-4 text-right text-sm font-bold text-yellow-600",children:K(x)}),(0,b.jsx)("td",{className:"px-6 py-4 text-right text-sm font-bold text-red-600",children:K(z)}),(0,b.jsx)("td",{colSpan:2})]})})]})})]}),(0,b.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 mb-6",children:[(0,b.jsxs)("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Coin Payment Overview"}),(0,b.jsx)("p",{className:"text-sm text-gray-500",children:"Organization-wise coin payment breakdown"})]}),(0,b.jsxs)("div",{className:"flex gap-4 text-sm",children:[(0,b.jsxs)("div",{className:"text-right",children:[(0,b.jsx)("p",{className:"text-gray-500",children:"This Month"}),(0,b.jsx)("p",{className:"font-semibold text-blue-600",children:K(I)})]}),(0,b.jsxs)("div",{className:"text-right",children:[(0,b.jsx)("p",{className:"text-gray-500",children:"Last Month (Billable)"}),(0,b.jsx)("p",{className:"font-semibold text-green-600",children:K(J)})]})]})]}),(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full",children:[(0,b.jsx)("thead",{className:"bg-gray-50 border-b border-gray-200",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Organization"}),(0,b.jsx)("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Machines"}),(0,b.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Month Txns"}),(0,b.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Month Amount"}),(0,b.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"This Month Txns"}),(0,b.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"This Month Amount"})]})}),(0,b.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:H.map(a=>(0,b.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,b.jsxs)("td",{className:"px-6 py-4",children:[(0,b.jsx)("div",{className:"text-sm font-medium text-gray-900",children:a.name}),(0,b.jsx)("div",{className:"text-xs text-gray-500",children:a.contact_email})]}),(0,b.jsx)("td",{className:"px-6 py-4 text-center text-sm text-gray-900",children:a.machineCount}),(0,b.jsx)("td",{className:"px-6 py-4 text-right text-sm text-gray-600",children:a.lastMonthCount}),(0,b.jsx)("td",{className:"px-6 py-4 text-right text-sm font-medium text-green-600",children:K(a.lastMonthTotal)}),(0,b.jsx)("td",{className:"px-6 py-4 text-right text-sm text-gray-600",children:a.thisMonthCount}),(0,b.jsx)("td",{className:"px-6 py-4 text-right text-sm font-medium text-blue-600",children:K(a.thisMonthTotal)})]},a.id))}),(0,b.jsx)("tfoot",{className:"bg-gray-50 border-t-2 border-gray-300",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{colSpan:3,className:"px-6 py-4 text-sm font-bold text-gray-900",children:"Total"}),(0,b.jsx)("td",{className:"px-6 py-4 text-right text-sm font-bold text-green-600",children:K(J)}),(0,b.jsx)("td",{className:"px-6 py-4"}),(0,b.jsx)("td",{className:"px-6 py-4 text-right text-sm font-bold text-blue-600",children:K(I)})]})})]})})]}),(0,b.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[(0,b.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,b.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"All Invoices"})}),(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full",children:[(0,b.jsx)("thead",{className:"bg-gray-50 border-b border-gray-200",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Invoice #"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Organization"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Period"}),(0,b.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Transactions"}),(0,b.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Amount"}),(0,b.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Paid"}),(0,b.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Due"}),(0,b.jsx)("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,b.jsx)("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,b.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:w&&w.length>0?w.map(a=>{var c;let e;return(0,b.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,b.jsxs)("div",{className:"flex items-center",children:[(0,b.jsx)(i,{className:"h-4 w-4 text-gray-400 mr-2"}),(0,b.jsx)("span",{className:"text-sm font-medium text-gray-900",children:a.invoice_number})]})}),(0,b.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,b.jsx)("div",{className:"text-sm text-gray-900",children:a.organizations?.name}),(0,b.jsx)("div",{className:"text-xs text-gray-500",children:a.organizations?.contact_email})]}),(0,b.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,b.jsx)("div",{className:"text-sm text-gray-900",children:L(a.period_start)}),(0,b.jsxs)("div",{className:"text-xs text-gray-500",children:["to ",L(a.period_end)]})]}),(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm text-gray-900",children:a.total_coin_transactions}),(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium text-gray-900",children:K(a.total_amount_paisa)}),(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm text-green-600",children:K(a.amount_paid_paisa)}),(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium text-red-600",children:K(a.amount_due_paisa)}),(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:(0,b.jsx)("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${(c=a.status,(e={draft:"bg-gray-100 text-gray-700",pending:"bg-yellow-100 text-yellow-700",paid:"bg-green-100 text-green-700",overdue:"bg-red-100 text-red-700",cancelled:"bg-gray-100 text-gray-500"})[c]||e.draft)}`,children:a.status})}),(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:(0,b.jsxs)("div",{className:"flex items-center justify-center gap-2",children:["paid"!==a.status&&a.amount_due_paisa>0&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(d.default,{href:`/admin/billing/${a.id}/pay`,className:"inline-flex items-center px-3 py-1.5 bg-green-600 text-white text-xs font-medium rounded hover:bg-green-700",children:"Pay Now"}),(0,b.jsx)(o.RecordPaymentButton,{invoiceId:a.id,amountDue:a.amount_due_paisa,organizationName:a.organizations?.name})]}),(0,b.jsx)(d.default,{href:`/admin/billing/${a.id}`,className:"text-blue-600 hover:text-blue-900 text-sm font-medium",children:"View"}),"paid"!==a.status&&(0,b.jsx)(n.SendInvoiceEmailButton,{invoiceId:a.id}),(0,b.jsx)(r.DeleteInvoiceButton,{invoiceId:a.id,invoiceNumber:a.invoice_number,organizationName:a.organizations?.name})]})})]},a.id)}):(0,b.jsx)("tr",{children:(0,b.jsxs)("td",{colSpan:9,className:"px-6 py-12 text-center text-gray-500",children:[(0,b.jsx)(i,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),(0,b.jsx)("p",{className:"text-lg font-medium mb-2",children:"No invoices yet"}),(0,b.jsx)("p",{className:"text-sm",children:"Generate monthly invoices to start tracking organization payments"})]})})})]})})]})]})]})}a.s(["default",()=>s],51595)}];

//# sourceMappingURL=src_c15da2ef._.js.map