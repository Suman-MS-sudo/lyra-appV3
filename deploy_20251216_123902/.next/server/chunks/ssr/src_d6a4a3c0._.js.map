{"version":3,"sources":["../../../../src/components/MachineAssignmentPopup.tsx/__nextjs-internal-proxy.mjs","../../../../src/app/customer/dashboard/page.tsx"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/components/MachineAssignmentPopup.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/MachineAssignmentPopup.tsx\",\n    \"default\",\n);\n","import { redirect } from 'next/navigation';\r\nimport { createClient } from '@/lib/supabase/server';\r\nimport { createClient as createServiceClient } from '@supabase/supabase-js';\r\nimport { ShoppingBag, TrendingUp, Heart, Clock, Coins, CreditCard, Building2, Activity, AlertCircle, Package, Settings, Users } from 'lucide-react';\r\nimport Link from 'next/link';\r\nimport MachineAssignmentPopup from '@/components/MachineAssignmentPopup';\r\n\r\nexport default async function CustomerDashboard() {\r\n  const supabase = await createClient();\r\n  \r\n  const {\r\n    data: { user },\r\n  } = await supabase.auth.getUser();\r\n\r\n  if (!user) {\r\n    redirect('/login');\r\n  }\r\n\r\n  // Use service role for comprehensive queries\r\n  const serviceSupabase = createServiceClient(\r\n    process.env.NEXT_PUBLIC_SUPABASE_URL!,\r\n    process.env.SUPABASE_SERVICE_ROLE_KEY!\r\n  );\r\n\r\n  // Fetch user profile and verify role\r\n  const { data: profile } = await serviceSupabase\r\n    .from('profiles')\r\n    .select('*')\r\n    .eq('id', user.id)\r\n    .single();\r\n\r\n  // Redirect admins to admin dashboard\r\n  if (profile?.role === 'admin') {\r\n    redirect('/admin/dashboard');\r\n  }\r\n\r\n  // Check if user is super_customer for enhanced permissions\r\n  const isSuperCustomer = profile?.account_type === 'super_customer';\r\n\r\n  // Fetch customer's vending machines\r\n  // Super customers see all machines in their organization, regular users see only their assigned machines\r\n  let customerMachines: any[] | null | undefined;\r\n  let orgUsersWithMachines: Array<{\r\n    id: string;\r\n    email: string;\r\n    full_name: string | null;\r\n    account_type: string;\r\n    machines: any[];\r\n    machineCount: number;\r\n  }> = [];\r\n  \r\n  if (isSuperCustomer && profile?.organization_id) {\r\n    // Get all machines owned by super customer AND machines owned by users in this organization\r\n    const { data: orgUsers } = await serviceSupabase\r\n      .from('profiles')\r\n      .select('id, email, full_name, account_type')\r\n      .eq('organization_id', profile.organization_id);\r\n    \r\n    const userIds = orgUsers?.map(u => u.id) || [user.id];\r\n    \r\n    const { data: machines } = await serviceSupabase\r\n      .from('vending_machines')\r\n      .select('id, name, location, status, asset_online, stock_level, customer_id')\r\n      .in('customer_id', userIds);\r\n    \r\n    customerMachines = machines;\r\n\r\n    // Group machines by user for display\r\n    orgUsersWithMachines = orgUsers?.map(orgUser => {\r\n      const userMachines = machines?.filter(m => m.customer_id === orgUser.id) || [];\r\n      return {\r\n        ...orgUser,\r\n        machines: userMachines,\r\n        machineCount: userMachines.length\r\n      };\r\n    }).filter(u => u.machineCount > 0) || [];\r\n  } else {\r\n    // Regular users only see their own machines\r\n    const { data: machines } = await serviceSupabase\r\n      .from('vending_machines')\r\n      .select('id, name, location, status, asset_online, stock_level')\r\n      .eq('customer_id', user.id);\r\n    \r\n    customerMachines = machines;\r\n  }\r\n\r\n  const machineIds = customerMachines?.map(m => m.id) || [];\r\n\r\n  // Fetch all transactions and coin payments for customer's machines\r\n  const [\r\n    { data: onlineTransactions },\r\n    { data: coinPayments }\r\n  ] = await Promise.all([\r\n    serviceSupabase\r\n      .from('transactions')\r\n      .select(`\r\n        id,\r\n        total_amount,\r\n        items,\r\n        quantity,\r\n        status,\r\n        payment_status,\r\n        payment_method,\r\n        created_at,\r\n        machine_id,\r\n        vending_machines!transactions_machine_id_fkey (name, location)\r\n      `)\r\n      .in('machine_id', machineIds)\r\n      .order('created_at', { ascending: false }),\r\n    serviceSupabase\r\n      .from('coin_payments')\r\n      .select(`\r\n        id,\r\n        amount_in_paisa,\r\n        quantity,\r\n        dispensed,\r\n        created_at,\r\n        machine_id,\r\n        products (name),\r\n        vending_machines (name, location)\r\n      `)\r\n      .in('machine_id', machineIds)\r\n      .order('created_at', { ascending: false })\r\n  ]);\r\n\r\n  // Calculate comprehensive stats\r\n  const totalMachines = customerMachines?.length || 0;\r\n  const onlineMachines = customerMachines?.filter(m => m.status === 'online' || m.status === 'active').length || 0;\r\n  const lowStockMachines = customerMachines?.filter(m => m.stock_level !== null && m.stock_level < 5).length || 0;\r\n\r\n  // Transaction stats\r\n  const totalOnlineTransactions = onlineTransactions?.length || 0;\r\n  const totalCoinTransactions = coinPayments?.length || 0;\r\n  const totalTransactions = totalOnlineTransactions + totalCoinTransactions;\r\n\r\n  // Revenue calculations\r\n  const onlineRevenue = onlineTransactions?.reduce((sum, tx) => {\r\n    if (tx.payment_status === 'paid') {\r\n      return sum + parseFloat(tx.total_amount || 0);\r\n    }\r\n    return sum;\r\n  }, 0) || 0;\r\n\r\n  const coinRevenue = (coinPayments?.reduce((sum, tx) => sum + (tx.amount_in_paisa || 0), 0) || 0) / 100;\r\n  const totalRevenue = onlineRevenue + coinRevenue;\r\n\r\n  // Machine health analysis\r\n  const healthyMachines = customerMachines?.filter(m => (m.status === 'online' || m.status === 'active') && (m.stock_level || 0) >= 5) || [];\r\n  const needsAttentionMachines = customerMachines?.filter(m => {\r\n    const isOffline = m.status !== 'online' && m.status !== 'active';\r\n    const isLowStock = m.stock_level !== null && m.stock_level < 5;\r\n    return isOffline || isLowStock;\r\n  }).map(m => ({\r\n    ...m,\r\n    issues: [\r\n      m.status !== 'online' && m.status !== 'active' ? 'Offline' : null,\r\n      m.stock_level !== null && m.stock_level < 5 ? 'Low Stock' : null\r\n    ].filter(Boolean)\r\n  })) || [];\r\n\r\n  // Breakdown by payment method\r\n  const onlineTransactionCount = onlineTransactions?.filter(tx => tx.payment_status === 'paid').length || 0;\r\n  const coinTransactionCount = coinPayments?.length || 0;\r\n\r\n  // Calculate coin payments to be paid to Lyra (customer owes for coin transactions)\r\n  const coinPaymentOwed = coinRevenue;\r\n\r\n  // Machine-wise breakdown\r\n  const machineHealthDetails = customerMachines?.map(machine => {\r\n    const machineOnlineTx = onlineTransactions?.filter(tx => \r\n      tx.machine_id === machine.id && tx.payment_status === 'paid'\r\n    ) || [];\r\n    const machineCoinTx = coinPayments?.filter(tx => \r\n      tx.machine_id === machine.id\r\n    ) || [];\r\n\r\n    const machineOnlineRev = machineOnlineTx.reduce((sum, tx) => sum + parseFloat(tx.total_amount || 0), 0);\r\n    const machineCoinRev = machineCoinTx.reduce((sum, tx) => sum + (tx.amount_in_paisa / 100), 0);\r\n\r\n    return {\r\n      ...machine,\r\n      onlineTransactions: machineOnlineTx.length,\r\n      coinTransactions: machineCoinTx.length,\r\n      onlineRevenue: machineOnlineRev,\r\n      coinRevenue: machineCoinRev,\r\n      totalRevenue: machineOnlineRev + machineCoinRev,\r\n      totalTransactions: machineOnlineTx.length + machineCoinTx.length,\r\n      healthStatus: (machine.status === 'online' || machine.status === 'active') && (machine.stock_level || 0) >= 5 ? 'healthy' : 'needs_attention'\r\n    };\r\n  }).sort((a, b) => b.totalRevenue - a.totalRevenue) || [];\r\n\r\n  // Format time ago\r\n  const formatTimeAgo = (dateString: string) => {\r\n    const date = new Date(dateString);\r\n    const now = new Date();\r\n    const seconds = Math.floor((now.getTime() - date.getTime()) / 1000);\r\n    \r\n    if (seconds < 60) return 'Just now';\r\n    if (seconds < 3600) return `${Math.floor(seconds / 60)} minutes ago`;\r\n    if (seconds < 86400) return `${Math.floor(seconds / 3600)} hours ago`;\r\n    if (seconds < 604800) return `${Math.floor(seconds / 86400)} days ago`;\r\n    return date.toLocaleDateString();\r\n  };\r\n\r\n  // Format currency for display\r\n  const formatAmount = (amount: number) => {\r\n    return amount.toLocaleString('en-IN', { minimumFractionDigits: 2, maximumFractionDigits: 2 });\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50 to-purple-50\">\r\n      {/* Header */}\r\n      <header className=\"bg-white/80 backdrop-blur-lg border-b border-gray-200/50 sticky top-0 z-50 shadow-sm\">\r\n        <div className=\"px-6 py-4 flex items-center justify-between\">\r\n          <div className=\"flex items-center space-x-3\">\r\n            <div className=\"w-8 h-8 bg-gradient-to-br from-blue-600 to-purple-600 rounded-lg\"></div>\r\n            <h1 className=\"text-xl font-bold text-gray-900\">Lyra</h1>\r\n          </div>\r\n          <div className=\"flex items-center gap-4\">\r\n            <span className=\"text-sm text-gray-900 font-medium hidden sm:block\">{user.email}</span>\r\n            <form action=\"/api/auth/logout\" method=\"POST\">\r\n              <button type=\"submit\" className=\"px-4 py-2 text-sm font-medium text-white bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 rounded-lg transition-all shadow-sm\">\r\n                Logout\r\n              </button>\r\n            </form>\r\n          </div>\r\n        </div>\r\n        \r\n        {/* Navigation for Super Customers */}\r\n        {isSuperCustomer && (\r\n          <div className=\"px-6 py-3 border-t border-gray-200/50\">\r\n            <nav className=\"flex items-center gap-2 overflow-x-auto\">\r\n              <Link href=\"/customer/dashboard\" className=\"px-4 py-2 rounded-lg font-medium bg-blue-100 text-blue-700\">\r\n                Dashboard\r\n              </Link>\r\n              <Link href=\"/customer/machines\" className=\"px-4 py-2 rounded-lg font-medium text-gray-600 hover:bg-gray-100 transition-colors whitespace-nowrap\">\r\n                <span className=\"flex items-center gap-2\"><Building2 className=\"w-4 h-4\" />My Machines</span>\r\n              </Link>\r\n              <Link href=\"/customer/users\" className=\"px-4 py-2 rounded-lg font-medium text-gray-600 hover:bg-gray-100 transition-colors whitespace-nowrap\">\r\n                <span className=\"flex items-center gap-2\"><Users className=\"w-4 h-4\" />Manage Users</span>\r\n              </Link>\r\n            </nav>\r\n          </div>\r\n        )}\r\n      </header>\r\n\r\n      {/* Main Content */}\r\n      <main className=\"container mx-auto px-6 py-8\">\r\n        <div className=\"mb-6\">\r\n          <h2 className=\"text-2xl font-bold text-gray-900 mb-1\">Dashboard Overview</h2>\r\n          <p className=\"text-sm text-gray-600\">Monitor your vending machine operations</p>\r\n        </div>\r\n\r\n        {/* Summary Stats */}\r\n        <div className={`grid gap-4 mb-6 ${isSuperCustomer ? 'grid-cols-2 lg:grid-cols-4' : 'grid-cols-2'}`}>\r\n          <div className=\"bg-white border border-gray-200 rounded-lg p-4\">\r\n            <div className=\"text-sm text-gray-600 mb-1\">Healthy Machines</div>\r\n            <div className=\"text-2xl font-bold text-gray-900\">{healthyMachines.length} / {totalMachines}</div>\r\n          </div>\r\n\r\n          <div className=\"bg-white border border-gray-200 rounded-lg p-4\">\r\n            <div className=\"text-sm text-gray-600 mb-1\">Need Attention</div>\r\n            <div className=\"text-2xl font-bold text-red-600\">{needsAttentionMachines.length}</div>\r\n          </div>\r\n\r\n          {isSuperCustomer && (\r\n            <>\r\n              <div className=\"bg-white border border-gray-200 rounded-lg p-4\">\r\n                <div className=\"text-sm text-gray-600 mb-1\">Online Revenue</div>\r\n                <div className=\"text-2xl font-bold text-gray-900\">₹{formatAmount(onlineRevenue)}</div>\r\n                <div className=\"text-xs text-gray-500 mt-1\">{onlineTransactionCount} transactions</div>\r\n              </div>\r\n\r\n              <div className=\"bg-white border border-gray-200 rounded-lg p-4\">\r\n                <div className=\"text-sm text-gray-600 mb-1\">Coin Owed to Lyra</div>\r\n                <div className=\"text-2xl font-bold text-gray-900\">₹{formatAmount(coinPaymentOwed)}</div>\r\n                <div className=\"text-xs text-gray-500 mt-1\">{coinTransactionCount} transactions</div>\r\n              </div>\r\n            </>\r\n          )}\r\n        </div>\r\n\r\n        {/* Machine Assignments by User - Only for super customers */}\r\n        {isSuperCustomer && orgUsersWithMachines.length > 0 && (\r\n        <div className=\"bg-white border border-gray-200 rounded-lg p-6 mb-6\">\r\n          <div className=\"flex items-center justify-between mb-4\">\r\n            <div>\r\n              <h3 className=\"text-lg font-semibold text-gray-900\">Machine Assignments</h3>\r\n              <p className=\"text-sm text-gray-600 mt-1\">View which users have machines assigned</p>\r\n            </div>\r\n            <Link href=\"/customer/users\" className=\"px-4 py-2 text-sm font-medium text-white bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 rounded-lg transition-all shadow-sm\">\r\n              Manage Users\r\n            </Link>\r\n          </div>\r\n          <div className=\"overflow-x-auto\">\r\n            <table className=\"w-full\">\r\n              <thead className=\"bg-gray-50\">\r\n                <tr>\r\n                  <th className=\"text-left py-3 px-4 text-sm font-semibold text-gray-700\">User</th>\r\n                  <th className=\"text-left py-3 px-4 text-sm font-semibold text-gray-700\">Email</th>\r\n                  <th className=\"text-center py-3 px-4 text-sm font-semibold text-gray-700\">Role</th>\r\n                  <th className=\"text-center py-3 px-4 text-sm font-semibold text-gray-700\">Machines</th>\r\n                  <th className=\"text-left py-3 px-4 text-sm font-semibold text-gray-700\">Assigned Devices</th>\r\n                  <th className=\"text-right py-3 px-4 text-sm font-semibold text-gray-700\">Actions</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {orgUsersWithMachines.map((orgUser) => (\r\n                  <tr key={orgUser.id} className=\"border-b last:border-0 hover:bg-gray-50\">\r\n                    <td className=\"py-4 px-4\">\r\n                      <div className=\"flex items-center gap-3\">\r\n                        <div className=\"w-9 h-9 bg-gradient-to-br from-blue-500 to-purple-500 rounded-full flex items-center justify-center text-white font-semibold text-sm\">\r\n                          {(orgUser.full_name || orgUser.email || 'U').charAt(0).toUpperCase()}\r\n                        </div>\r\n                        <div className=\"font-medium text-gray-900\">{orgUser.full_name || 'N/A'}</div>\r\n                      </div>\r\n                    </td>\r\n                    <td className=\"py-4 px-4 text-sm text-gray-600\">{orgUser.email}</td>\r\n                    <td className=\"py-4 px-4 text-center\">\r\n                      {orgUser.account_type === 'super_customer' ? (\r\n                        <span className=\"inline-block px-2 py-1 text-xs font-semibold bg-purple-100 text-purple-700 rounded-full\">\r\n                          Super Customer\r\n                        </span>\r\n                      ) : (\r\n                        <span className=\"inline-block px-2 py-1 text-xs font-semibold bg-gray-100 text-gray-700 rounded-full\">\r\n                          Customer\r\n                        </span>\r\n                      )}\r\n                    </td>\r\n                    <td className=\"py-4 px-4 text-center\">\r\n                      <span className=\"inline-flex items-center justify-center w-8 h-8 rounded-full bg-blue-100 text-blue-700 font-semibold text-sm\">\r\n                        {orgUser.machineCount}\r\n                      </span>\r\n                    </td>\r\n                    <td className=\"py-4 px-4\">\r\n                      <MachineAssignmentPopup \r\n                        machines={orgUser.machines}\r\n                        userName={orgUser.full_name || orgUser.email}\r\n                      />\r\n                    </td>\r\n                    <td className=\"py-4 px-4 text-right\">\r\n                      {orgUser.account_type !== 'super_customer' && (\r\n                        <Link \r\n                          href={`/customer/users/${orgUser.id}/edit`}\r\n                          className=\"text-sm font-medium text-blue-600 hover:text-blue-700\"\r\n                        >\r\n                          Edit →\r\n                        </Link>\r\n                      )}\r\n                    </td>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n        )}\r\n\r\n        {/* Transaction Breakdown - Only for super customers */}\r\n        {isSuperCustomer && (\r\n        <div className=\"bg-white border border-gray-200 rounded-lg p-6 mb-6\">\r\n          <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Transaction Breakdown</h3>\r\n          <div className=\"overflow-x-auto\">\r\n            <table className=\"w-full\">\r\n              <thead>\r\n                <tr className=\"border-b\">\r\n                  <th className=\"text-left py-2 px-3 text-sm font-medium text-gray-700\">Payment Method</th>\r\n                  <th className=\"text-right py-2 px-3 text-sm font-medium text-gray-700\">Count</th>\r\n                  <th className=\"text-right py-2 px-3 text-sm font-medium text-gray-700\">Revenue</th>\r\n                  <th className=\"text-right py-2 px-3 text-sm font-medium text-gray-700\">% of Total</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                <tr className=\"border-b\">\r\n                  <td className=\"py-3 px-3 text-sm text-gray-900\">Online Payments</td>\r\n                  <td className=\"py-3 px-3 text-sm text-right text-gray-900\">{onlineTransactionCount}</td>\r\n                  <td className=\"py-3 px-3 text-sm text-right font-medium text-gray-900\">₹{formatAmount(onlineRevenue)}</td>\r\n                  <td className=\"py-3 px-3 text-sm text-right text-gray-900\">{totalTransactions > 0 ? ((onlineTransactionCount / totalTransactions) * 100).toFixed(1) : 0}%</td>\r\n                </tr>\r\n                <tr className=\"border-b\">\r\n                  <td className=\"py-3 px-3 text-sm text-gray-900\">Coin Payments</td>\r\n                  <td className=\"py-3 px-3 text-sm text-right text-gray-900\">{coinTransactionCount}</td>\r\n                  <td className=\"py-3 px-3 text-sm text-right font-medium text-gray-900\">₹{formatAmount(coinRevenue)}</td>\r\n                  <td className=\"py-3 px-3 text-sm text-right text-gray-900\">{totalTransactions > 0 ? ((coinTransactionCount / totalTransactions) * 100).toFixed(1) : 0}%</td>\r\n                </tr>\r\n                <tr className=\"bg-gray-50\">\r\n                  <td className=\"py-3 px-3 text-sm font-semibold text-gray-900\">Total</td>\r\n                  <td className=\"py-3 px-3 text-sm text-right font-semibold text-gray-900\">{totalTransactions}</td>\r\n                  <td className=\"py-3 px-3 text-sm text-right font-semibold text-gray-900\">₹{formatAmount(totalRevenue)}</td>\r\n                  <td className=\"py-3 px-3 text-sm text-right font-semibold text-gray-900\">100%</td>\r\n                </tr>\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n        )}\\n\\n        {/* Machines Requiring Attention */}\r\n        <div className=\"mb-6\">\r\n          <div className=\"mb-4\">\r\n            <h3 className=\"text-lg font-semibold text-gray-900\">\r\n              Machines Requiring Attention\r\n              {needsAttentionMachines.length > 0 && (\r\n                <span className=\"ml-2 inline-block bg-red-600 text-white px-3 py-1 rounded-full text-sm\">\r\n                  {needsAttentionMachines.length}\r\n                </span>\r\n              )}\r\n            </h3>\r\n            <p className=\"text-sm text-gray-600 mt-1\">Machines with low stock or offline status</p>\r\n          </div>\r\n\r\n          <div className=\"grid md:grid-cols-2 gap-6\">\r\n            {/* Offline/Powered Off Machines */}\r\n            <div className=\"bg-white border border-red-200 rounded-lg overflow-hidden\">\r\n              <div className=\"p-4 bg-red-50 border-b border-red-200\">\r\n                <h4 className=\"text-base font-semibold text-red-900\">\r\n                  Offline / Powered Off\r\n                  <span className=\"ml-2 inline-block bg-red-600 text-white px-2 py-0.5 rounded-full text-xs\">\r\n                    {customerMachines?.filter(m => m.status !== 'online' && m.status !== 'active').length || 0}\r\n                  </span>\r\n                </h4>\r\n              </div>\r\n              <div className=\"overflow-auto max-h-[400px]\">\r\n                <table className=\"w-full\">\r\n                  <thead className=\"bg-gray-100 sticky top-0 z-10\">\r\n                    <tr>\r\n                      <th className=\"text-left py-2 px-3 text-xs font-semibold text-gray-700 border-b border-gray-300\">Machine</th>\r\n                      <th className=\"text-left py-2 px-3 text-xs font-semibold text-gray-700 border-b border-gray-300\">Location</th>\r\n                      <th className=\"text-center py-2 px-3 text-xs font-semibold text-gray-700 border-b border-gray-300\">Status</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    {(customerMachines?.filter(m => m.status !== 'online' && m.status !== 'active').length ?? 0) > 0 ? (\r\n                      customerMachines\r\n                        ?.filter(m => m.status !== 'online' && m.status !== 'active')\r\n                        .map((machine) => (\r\n                          <tr key={machine.id} className=\"border-b last:border-0 hover:bg-gray-50\">\r\n                            <td className=\"py-3 px-3 text-sm font-medium text-gray-900\">{machine.name}</td>\r\n                            <td className=\"py-3 px-3 text-sm text-gray-600\">{machine.location}</td>\r\n                            <td className=\"py-3 px-3 text-sm text-center\">\r\n                              <span className=\"inline-block px-2 py-1 rounded-full text-xs font-semibold bg-red-100 text-red-700\">\r\n                                {machine.status}\r\n                              </span>\r\n                            </td>\r\n                          </tr>\r\n                        ))\r\n                    ) : (\r\n                      <tr>\r\n                        <td colSpan={3} className=\"py-8 text-center\">\r\n                          <div className=\"text-gray-400 text-2xl mb-1\">✓</div>\r\n                          <p className=\"text-sm text-gray-500\">All machines online</p>\r\n                        </td>\r\n                      </tr>\r\n                    )}\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Low Stock Machines */}\r\n            <div className=\"bg-white border border-orange-200 rounded-lg overflow-hidden\">\r\n              <div className=\"p-4 bg-orange-50 border-b border-orange-200\">\r\n                <h4 className=\"text-base font-semibold text-orange-900\">\r\n                  Low Stock Alert\r\n                  <span className=\"ml-2 inline-block bg-orange-600 text-white px-2 py-0.5 rounded-full text-xs\">\r\n                    {customerMachines?.filter(m => m.stock_level !== null && m.stock_level < 5).length || 0}\r\n                  </span>\r\n                </h4>\r\n              </div>\r\n              <div className=\"overflow-auto max-h-[400px]\">\r\n                <table className=\"w-full\">\r\n                  <thead className=\"bg-gray-100 sticky top-0 z-10\">\r\n                    <tr>\r\n                      <th className=\"text-left py-2 px-3 text-xs font-semibold text-gray-700 border-b border-gray-300\">Machine</th>\r\n                      <th className=\"text-left py-2 px-3 text-xs font-semibold text-gray-700 border-b border-gray-300\">Location</th>\r\n                      <th className=\"text-right py-2 px-3 text-xs font-semibold text-gray-700 border-b border-gray-300\">Stock Level</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    {(customerMachines?.filter(m => m.stock_level !== null && m.stock_level < 5).length ?? 0) > 0 ? (\r\n                      customerMachines\r\n                        ?.filter(m => m.stock_level !== null && m.stock_level < 5)\r\n                        .sort((a, b) => (a.stock_level || 0) - (b.stock_level || 0))\r\n                        .map((machine) => (\r\n                          <tr key={machine.id} className=\"border-b last:border-0 hover:bg-gray-50\">\r\n                            <td className=\"py-3 px-3 text-sm font-medium text-gray-900\">{machine.name}</td>\r\n                            <td className=\"py-3 px-3 text-sm text-gray-600\">{machine.location}</td>\r\n                            <td className=\"py-3 px-3 text-sm text-right\">\r\n                              <span className={`inline-block px-2 py-1 rounded-full text-xs font-semibold ${\r\n                                (machine.stock_level || 0) === 0\r\n                                  ? 'bg-red-100 text-red-700'\r\n                                  : (machine.stock_level || 0) < 3\r\n                                  ? 'bg-orange-100 text-orange-700'\r\n                                  : 'bg-yellow-100 text-yellow-700'\r\n                              }`}>\r\n                                {machine.stock_level} units\r\n                              </span>\r\n                            </td>\r\n                          </tr>\r\n                        ))\r\n                    ) : (\r\n                      <tr>\r\n                        <td colSpan={3} className=\"py-8 text-center\">\r\n                          <div className=\"text-gray-400 text-2xl mb-1\">✓</div>\r\n                          <p className=\"text-sm text-gray-500\">All machines have adequate stock</p>\r\n                        </td>\r\n                      </tr>\r\n                    )}\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </main>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","ignoreList":[0]}