module.exports=[93695,(a,b,c)=>{b.exports=a.x("next/dist/shared/lib/no-fallback-error.external.js",()=>require("next/dist/shared/lib/no-fallback-error.external.js"))},69264,a=>{a.n(a.i(54832))},50645,a=>{a.n(a.i(27572))},58524,a=>{a.n(a.i(4858))},43619,a=>{a.n(a.i(79962))},13718,a=>{a.n(a.i(85523))},18198,a=>{a.n(a.i(45518))},98866,a=>{"use strict";let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call the default export of [project]/src/components/EditUserMachines.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/src/components/EditUserMachines.tsx <module evaluation>","default");a.s(["default",0,b])},69655,a=>{"use strict";let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call the default export of [project]/src/components/EditUserMachines.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/src/components/EditUserMachines.tsx","default");a.s(["default",0,b])},85474,a=>{"use strict";a.i(98866);var b=a.i(69655);a.n(b)},74849,a=>{"use strict";var b=a.i(7997);a.i(70396);var c=a.i(73727),d=a.i(16349),e=a.i(51100),f=a.i(95936),g=a.i(85474);async function h({params:a}){let{userId:h}=await a,i=await (0,d.createClient)(),{data:{user:j}}=await i.auth.getUser();j||(0,c.redirect)("/login");let k=(0,e.createClient)("https://fjghhrubobqwplvokszz.supabase.co",process.env.SUPABASE_SERVICE_ROLE_KEY),{data:l}=await k.from("profiles").select("*").eq("id",j.id).single();l?.account_type!=="super_customer"&&(0,c.redirect)("/customer/dashboard");let{data:m}=await k.from("profiles").select("*").eq("id",h).single();m&&m.organization_id===l.organization_id||(0,c.redirect)("/customer/users");let{data:n}=await k.from("vending_machines").select("id, name, location, customer_id").or(`customer_id.eq.${j.id},customer_id.eq.${h}`).order("name"),o=n?.filter(a=>a.customer_id===j.id)||[],p=n?.filter(a=>a.customer_id===h)||[];return(0,b.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50 to-purple-50",children:[(0,b.jsx)("header",{className:"bg-white/80 backdrop-blur-lg border-b border-gray-200/50 sticky top-0 z-50 shadow-sm",children:(0,b.jsx)("div",{className:"px-6 py-4 flex items-center justify-between",children:(0,b.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,b.jsx)("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-600 to-purple-600 rounded-lg"}),(0,b.jsx)("h1",{className:"text-xl font-bold text-gray-900",children:"Lyra"})]})})}),(0,b.jsxs)("main",{className:"container mx-auto px-6 py-8 max-w-2xl",children:[(0,b.jsxs)("div",{className:"mb-6",children:[(0,b.jsx)(f.default,{href:"/customer/users",className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:"← Back to Users"}),(0,b.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mt-2",children:"Edit User"}),(0,b.jsx)("p",{className:"text-sm text-gray-600",children:"Update user information and machine assignments"})]}),(0,b.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-6 space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"User Information"}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Email"}),(0,b.jsx)("div",{className:"text-gray-900 mt-1",children:m.email})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Full Name"}),(0,b.jsx)("div",{className:"text-gray-900 mt-1",children:m.full_name||"Not set"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Phone"}),(0,b.jsx)("div",{className:"text-gray-900 mt-1",children:m.phone||"Not set"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Role"}),(0,b.jsx)("div",{className:"text-gray-900 mt-1",children:(0,b.jsx)("span",{className:"inline-block px-2 py-1 rounded-full text-xs font-semibold bg-blue-100 text-blue-700",children:m.role})})]})]})]}),(0,b.jsxs)("div",{className:"border-t pt-6",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Machine Management"}),(0,b.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"Assign specific machines to this user. Assigned machines will be owned and managed by them."}),(0,b.jsx)(g.default,{userId:h,superCustomerId:j.id,ownedMachines:o,assignedMachines:p})]}),(0,b.jsxs)("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[(0,b.jsx)("h4",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Access Permissions"}),(0,b.jsxs)("ul",{className:"text-sm text-gray-600 space-y-1",children:[(0,b.jsx)("li",{children:"✓ View all machines in the organization"}),(0,b.jsx)("li",{children:"✓ See revenue and transaction data"}),(0,b.jsx)("li",{children:"✓ Access customer dashboard"}),(0,b.jsx)("li",{children:"✗ Cannot create or manage users"}),(0,b.jsx)("li",{children:"✗ Cannot access admin features"})]})]})]})]})]})}a.s(["default",()=>h])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__171d9143._.js.map